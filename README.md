# TeslaShow

<div align="center">


**ç°ä»£åŒ–çš„Teslaè¡Œç¨‹æ•°æ®å¯è§†åŒ–ç³»ç»Ÿ**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Next.js](https://img.shields.io/badge/Next.js-15-black)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://www.typescriptlang.org/)
[![Material-UI](https://img.shields.io/badge/Material--UI-7-blue)](https://mui.com/)

[English](README_EN.md) | ä¸­æ–‡

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

TeslaShow æ˜¯ä¸€ä¸ªä¸“ä¸º TeslaMate ç”¨æˆ·è®¾è®¡çš„ç°ä»£åŒ–è¡Œç¨‹æ•°æ®å¯è§†åŒ–ç³»ç»Ÿã€‚åŸºäº Next.js 15 æ„å»ºï¼Œæä¾›ç›´è§‚ç¾è§‚çš„ç•Œé¢æ¥å±•ç¤ºæ‚¨çš„ Tesla è¡Œç¨‹æ•°æ®ã€è½¨è¿¹åˆ†æå’Œç»Ÿè®¡ä¿¡æ¯ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸš— **è¡Œç¨‹ç®¡ç†** - æŸ¥çœ‹è¯¦ç»†çš„å†å²è¡Œç¨‹åˆ—è¡¨å’Œå•æ¬¡è¡Œç¨‹è¯¦æƒ…
- ğŸ—ºï¸ **è½¨è¿¹å¯è§†åŒ–** - åŸºäºé«˜å¾·åœ°å›¾çš„è¡Œç¨‹è½¨è¿¹å±•ç¤º
- ğŸ“Š **æ•°æ®ç»Ÿè®¡** - æ€»é‡Œç¨‹ã€è¡Œé©¶æ—¶é—´ã€å……ç”µã€èƒ½è€—åˆ†æç­‰ç»Ÿè®¡ä¿¡æ¯
- ğŸ¨ **ç°ä»£åŒ–UI** - Material Design 3 é£æ ¼ï¼Œæ”¯æŒå¤šä¸»é¢˜è‰²å½©
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- âš¡ **é«˜æ€§èƒ½** - åŸºäº Next.js 15 App Routerï¼Œä¼˜åŒ–çš„æ•°æ®åŠ è½½
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²** - æä¾› Docker æ”¯æŒï¼Œä¸€é”®éƒ¨ç½²
- ğŸ”’ **æ•°æ®å®‰å…¨** - ç›´è¿ TeslaMate æ•°æ®åº“ï¼Œæ•°æ®ä¸ç¦»å¼€æ‚¨çš„ç¯å¢ƒ

## ğŸ–¼ï¸ ç•Œé¢é¢„è§ˆ

### è¡Œç¨‹åˆ—è¡¨é¡µé¢
- å±•ç¤ºæ‰€æœ‰å†å²è¡Œç¨‹çš„å¡ç‰‡å¼åˆ—è¡¨
- æ˜¾ç¤ºè·ç¦»ã€æ—¶é•¿ã€èƒ½è€—ç­‰å…³é”®ä¿¡æ¯
- æ”¯æŒåˆ†é¡µæµè§ˆå’Œæ—¶é—´è¿‡æ»¤

<img src="img-show/drives.png" alt="è¡Œç¨‹åˆ—è¡¨é¡µé¢" width="200">

### è¡Œç¨‹è¯¦æƒ…é¡µé¢
- é«˜å¾·åœ°å›¾å±•ç¤ºå®Œæ•´è¡Œç¨‹è½¨è¿¹
- è¯¦ç»†çš„è¡Œç¨‹æ•°æ®å¡ç‰‡å±•ç¤º
- å®æ—¶æ•°æ®ç‚¹ä¿¡æ¯ï¼ˆé€Ÿåº¦ã€åŠŸç‡ã€ç”µé‡ç­‰ï¼‰

<img src="img-show/drive-detail.png" alt="è¡Œç¨‹è¯¦æƒ…é¡µé¢" width="200">

### è¶³è¿¹åˆ†æé¡µé¢
- å¯è‡ªå®šä¹‰æ—¶é—´èŒƒå›´çš„è½¨è¿¹èšåˆæ˜¾ç¤º
- ç»Ÿè®¡æ•°æ®æ¦‚è§ˆï¼ˆæ€»é‡Œç¨‹ã€è¡Œé©¶æ¬¡æ•°ã€å¹³å‡èƒ½è€—ç­‰ï¼‰
- å……ç”µæ•°æ®ç»Ÿè®¡

<img src="img-show/footprint.png" alt="è¶³è¿¹åˆ†æé¡µé¢" width="200">

### ä¸»é¢˜è‰²å½©
- æ”¯æŒå¤šç§ä¸»é¢˜è‰²å½©åˆ‡æ¢
- Material Design 3 é£æ ¼è®¾è®¡

<img src="img-show/theme.png" alt="ä¸»é¢˜è‰²å½©" width="200">

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 15 (App Router)
- **UI ç»„ä»¶åº“**: Material-UI v7
- **åœ°å›¾æœåŠ¡**: é«˜å¾·åœ°å›¾ API
- **æ•°æ®åº“**: PostgreSQL (TeslaMate)
- **æ ·å¼æ¡†æ¶**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: React Hooks
- **HTTP å®¢æˆ·ç«¯**: Axios
- **ç±»å‹ç³»ç»Ÿ**: TypeScript
- **å®¹å™¨åŒ–**: Docker & Docker Compose

## ğŸš€ Docker Compose ä¸€é”®éƒ¨ç½²

### å‰ç½®è¦æ±‚

- Docker å’Œ Docker Compose
- é«˜å¾·åœ°å›¾ API å¯†é’¥

### éƒ¨ç½²æ­¥éª¤

1. **åˆ›å»ºé¡¹ç›®ç›®å½•å’Œå¿…è¦æ–‡ä»¶å¤¹**

é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•ä½œä¸ºé¡¹ç›®æ ¹ç›®å½•ï¼Œå¹¶åˆ›å»ºå¿…è¦çš„æ•°æ®å­˜å‚¨æ–‡ä»¶å¤¹ï¼š

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir teslashow-deploy
cd teslashow-deploy

# åˆ›å»ºå¿…è¦çš„æ•°æ®å­˜å‚¨æ–‡ä»¶å¤¹
mkdir -p teslamate-db teslamate-grafana-data import mosquitto-conf mosquitto-data

# è®¾ç½®æ–‡ä»¶å¤¹æƒé™ï¼ˆå¯é€‰ï¼Œç¡®ä¿å®¹å™¨æœ‰å†™å…¥æƒé™ï¼‰
chmod 755 teslamate-db teslamate-grafana-data import mosquitto-conf mosquitto-data
```

2. **åˆ›å»º docker-compose.yml æ–‡ä»¶**

åœ¨é¡¹ç›®ç›®å½•ä¸­åˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
services:
  teslamate:
    image: teslamate/teslamate:latest
    restart: always
    environment:
      - ENCRYPTION_KEY=secretkey #replace with a secure key to encrypt your Tesla API tokens
      - DATABASE_USER=teslamate
      - DATABASE_PASS=password #insert your secure database password!
      - DATABASE_NAME=teslamate
      - DATABASE_HOST=database
      - MQTT_HOST=mosquitto
      - MQTT_IPV6=true
    ports:
      - 4000:4000
    volumes:
      - ./import:/opt/app/import
    cap_drop:
      - all

  database:
    image: postgres:17
    restart: always
    # ports:
      # - 5433:5432  # å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£5433æ˜¯ä¸ºæµ‹è¯•ä½¿ç”¨ï¼Œåœ¨teslashowé¡¹ç›®åœ¨dockerä¸­è¿˜æ˜¯ä½¿ç”¨5432
    environment:
      - POSTGRES_USER=teslamate
      - POSTGRES_PASSWORD=password #insert your secure database password!
      - POSTGRES_DB=teslamate
    volumes:
      - ./teslamate-db:/var/lib/postgresql/data

  grafana:
    image: teslamate/grafana:latest
    restart: always
    environment:
      - DATABASE_USER=teslamate
      - DATABASE_PASS=password #insert your secure database password!
      - DATABASE_NAME=teslamate
      - DATABASE_HOST=database
    ports:
      - 3000:3000
    volumes:
      - ./teslamate-grafana-data:/var/lib/grafana

  mosquitto:
    image: eclipse-mosquitto:2
    restart: always
    command: mosquitto -c /mosquitto-no-auth.conf
    # ports:
    #   - 1883:1883
    volumes:
      - ./mosquitto-conf:/mosquitto/config
      - ./mosquitto-data:/mosquitto/data

  teslashow:
    # build: .  # Build from local Dockerfile
    image: shareven/teslashow:latest  # Or use pre-built image
    depends_on:
      - database
    ports:
      - "3001:3000"
    environment:
      - NODE_ENV=production
      - DB_HOST=database
      - DB_PORT=5432
      - DB_NAME=teslamate
      - DB_USER=teslamate
      - DB_PASSWORD=password	# Use the same password as database service
      
      # Amap API Configuration
      # Please apply for your API keys at Amap Open Platform (https://lbs.amap.com/)
      - NEXT_PUBLIC_AMAP_API_KEY=your_amap_api_key_here
      # Amap security key - Get it from application management in Amap Open Platform
      - NEXT_PUBLIC_AMAP_SECURITY_KEY=your_amap_security_key_here
```

3. **ä¿®æ”¹é…ç½®å‚æ•°**
 
 åœ¨ä¸Šè¿°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¯·ä¿®æ”¹ä»¥ä¸‹å…³é”®å‚æ•°ï¼š
 
 - **æ•°æ®åº“å¯†ç **ï¼šå°†æ‰€æœ‰ `password` æ›¿æ¢ä¸ºå®‰å…¨å¯†ç 
 - **åŠ å¯†å¯†é’¥**ï¼šå°† `secretkey` æ›¿æ¢ä¸ºå®‰å…¨çš„åŠ å¯†å¯†é’¥
 - **é«˜å¾·åœ°å›¾API**ï¼šé…ç½®æ‚¨çš„é«˜å¾·åœ°å›¾APIå¯†é’¥
 
 4. **å¯åŠ¨æ‰€æœ‰æœåŠ¡**
```bash
docker-compose up -d
```

5. **è®¿é—®æœåŠ¡**

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥è®¿é—®ä»¥ä¸‹æœåŠ¡ï¼š

- **TeslaShow**: http://localhost:3001 - è¡Œç¨‹æ•°æ®å¯è§†åŒ–ç•Œé¢
- **TeslaMate**: http://localhost:4000 - Teslaæ•°æ®è®°å½•ç®¡ç†
- **Grafana**: http://localhost:3000 - æ•°æ®åˆ†æä»ªè¡¨æ¿

### æœåŠ¡è¯´æ˜

è¯¥ Docker Compose é…ç½®åŒ…å«å®Œæ•´çš„ TeslaMate ç”Ÿæ€ç³»ç»Ÿï¼š

- **teslamate**: Tesla æ•°æ®è®°å½•æœåŠ¡
- **database**: PostgreSQL æ•°æ®åº“
- **grafana**: æ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿
- **mosquitto**: MQTT æ¶ˆæ¯ä»£ç†
- **teslashow**: æœ¬é¡¹ç›®çš„è¡Œç¨‹å±•ç¤ºç•Œé¢

### æ•°æ®æŒä¹…åŒ–

é…ç½®æ–‡ä»¶å·²è®¾ç½®æ•°æ®å·æŒ‚è½½ï¼Œç¡®ä¿æ•°æ®æŒä¹…åŒ–ï¼š
- `./teslamate-db`: æ•°æ®åº“æ•°æ®
- `./teslamate-grafana-data`: Grafana é…ç½®æ•°æ®
- `./import`: TeslaMate å¯¼å…¥æ•°æ®ç›®å½•

## âš™ï¸ é«˜å¾·åœ°å›¾ API é…ç½®

### è·å– API å¯†é’¥

1. è®¿é—® [é«˜å¾·å¼€æ”¾å¹³å°](https://lbs.amap.com/)
2. æ³¨å†Œå¹¶ç™»å½•è´¦å·
3. åˆ›å»ºåº”ç”¨å¹¶è·å– API Key
4. åœ¨åº”ç”¨ç®¡ç†ä¸­è·å–å®‰å…¨å¯†é’¥ï¼ˆSecurity Keyï¼‰
5. ç¡®ä¿å¯ç”¨äº†ä»¥ä¸‹æœåŠ¡ï¼š
   - WebæœåŠ¡API
   - Webç«¯ï¼ˆJS APIï¼‰

### é…ç½®è¯´æ˜

| ç¯å¢ƒå˜é‡ | æè¿° | å¿…éœ€ |
|---------|------|------|
| `NEXT_PUBLIC_AMAP_API_KEY` | é«˜å¾·åœ°å›¾ API å¯†é’¥ | âœ… |
| `NEXT_PUBLIC_AMAP_SECURITY_KEY` | é«˜å¾·åœ°å›¾å®‰å…¨å¯†é’¥ | âœ… |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [TeslaMate](https://github.com/teslamate-org/teslamate) - ä¼˜ç§€çš„ Tesla æ•°æ®è®°å½•å·¥å…·
- [Next.js](https://nextjs.org/) - å¼ºå¤§çš„ React æ¡†æ¶
- [Material-UI](https://mui.com/) - ç¾è§‚çš„ React ç»„ä»¶åº“
- [é«˜å¾·åœ°å›¾](https://lbs.amap.com/) - å¯é çš„åœ°å›¾æœåŠ¡

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š

- æŸ¥çœ‹ [å¸¸è§é—®é¢˜](FAQ.md)
- æäº¤ [Issue](https://github.com/shareven/teslashow/issues)
- å‚ä¸ [è®¨è®º](https://github.com/shareven/teslashow/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by Tesla è½¦ä¸»ä»¬

</div>